<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:om="http://www.openmath.org/OpenMath" xmlns:stex="http://www.mathhub.info" xmlns:ml="http://www.w3.org/1998/Math/MathML">
<head><title>FoMID Example</title><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8"/>
  <!--<link rel="stylesheet" href="/stex/latex-css/style.css" type="text/css"/>-->
<style>
.mypre {
  overflow: auto;
  border: 1px solid;
  padding: 5px;
  max-width:100%;
  max-height:400px;
  margin:auto;
  background: hsl(210, 28%, 93%);
}
.mybody {
  font-family: 'Latin Modern', Georgia, Cambria, 'Times New Roman', Times, serif;
  line-height: 1.8;
  max-width: 80ch;
  margin: 0 auto;
  min-height: 100vh;
  overflow-x: hidden;
  padding: 2rem 1.25rem;

  color: hsl(0, 5%, 10%);
  background-color: hsl(210, 20%, 98%);

  text-rendering: optimizeLegibility;
}
.myp {
  text-align: justify;
  hyphens: auto;
  -webkit-hyphens: auto;
  -moz-hyphens: auto;
  margin-top: 1rem;
}
.myiframe {
  margin: 0 auto;
  height:400px;
  width:100%;
  display:block;
  border:none;
}
</style>
</head>
<body style="background-color: hsl(210, 20%, 98%);">
<div class="mybody">
<h1>FoMID Demo</h1>
<p class="myp">Imagine a user authoring a LaTeX fragment like:</p>
<pre class="mypre">
If the square of some natural number $N$ is even, then $N$ is even.
</pre>
<p class="myp">Using FLaTeX, this statement can be augmented by semantic annotations, wither via NLP pipelines or by the author themself. The concrete syntax for that will need to be developed (and is being discussed <a href="https://github.com/KWARC/FoMID/issues?q=is%3Aissue+is%3Aopen+label%3AFLaTeX%2FFLOMDoc">here</a>). </p><!--An exemplary fully annotated statement might look like this:</p>
<pre class="mypre">
\vardecl[type={\NaturalNumber},forall]{\varN}{N}
\implication*[2]{\even{\varN[A \NaturalNumbers[natural number] $\varN$]}[ is even]}[, if]{\even{\natpow{\varN[its]}*{2}[ square]}[ is even]}.
</pre>-->
<p class="myp">
Using e.g. LaTeXML, this fragment can be converted to HTML, augmented by the respective semantic information. The following html code is in fact
generated by LaTeXML, augmented (for now by hand) with semantic tags:</p>
<pre class="mypre"><code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xmlns:om="http://www.openmath.org/OpenMath" xmlns:stex="http://www.mathhub.info" xmlns:ml="http://www.w3.org/1998/Math/MathML"&gt;
&lt;head&gt;
  &lt;title&gt;Test&lt;/title&gt;
  &lt;meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8"/&gt;
  &lt;link rel="stylesheet" href="LaTeXML.css" type="text/css"/&gt;
  &lt;link rel="stylesheet" href="ltx-article.css" type="text/css"/&gt;
  &lt;link rel="stylesheet" href="ltx-listings.css" type="text/css"/&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div class="ltx_page_main"&gt;
    &lt;div class="ltx_page_content"&gt;
      &lt;div class="ltx_document"&gt;
        &lt;div property="stex:theory" resource="http://mathhub.info/test?Lemmata"&gt;
          &lt;div property="stex:theorem" resource="http://mathhub.info/test?Lemmata?Lemma_even"&gt;
	    &lt;h6 class="ltx_title ltx_runin ltx_title_theorem"&gt;
	      &lt;span class="ltx_tag ltx_tag_theorem"&gt;
	        &lt;span class="ltx_text ltx_font_bold"&gt;Lemma 1&lt;/span&gt;
	      &lt;/span&gt;
	    &lt;/h6&gt;
	    &lt;script id="vardecl_varN" type="application/xml" property="stex:vardecl"&gt;
	      &lt;stex:vardecl path="http://mathhub.info/test?Lemmata?varN" notation="N prec 500" quantified="universal"&gt; 
	        &lt;om:type&gt;&lt;om:OMS base="http://mathhub.info/smglom/arithmetics/natural_numbers" module="NaturalNumbers" name="NaturalNumbers"/&gt;&lt;/om:type&gt;
	      &lt;/stex:vardecl&gt;
	    &lt;/script&gt;
            &lt;div id="Thmdefinition1.p1" class="ltx_para"&gt;&lt;p class="ltx_p"&gt;
	      &lt;span property="stex:OMA" resource="http://mathhub.info/smglom/logic?Implication?Implication"&gt;
		If &lt;span property="stex:arg" resource="1"&gt;
		     &lt;span property="stex:OMA" resource="http://mathhub.info/smglom/arithmetics/natural_numbers?Divisibility?even"&gt;
		       &lt;span property="stex:arg" resource="1"&gt;
		         &lt;span property="stex:OMA" resource="http://mathhub.info/smglom/arithmetics/natural_numbers?Exponentiation?natexp"&gt;
		           &lt;span property="stex:arg" resource="2"&gt;
		             &lt;span property="stex:OMINT" resource="2"/&gt;
		           &lt;/span&gt;
			   the square of some &lt;span property="stex:tref" resource="http://mathhub.info/smglom/arithmetics/natural_numbers?NaturalNumbers?NaturalNumbers"&gt;natural number&lt;/span&gt; 
			   &lt;span property="stex:arg" resource="1"&gt;
			     &lt;span property="stex:OMV" resource="http://mathhub.info/test?Lemmata?varN"&gt;
			       &lt;math id="S0.I1.i1.p1.m1" xmlns="http://www.w3.org/1998/Math/MathML" display="inline" alttext="N" class="ltx_Math"&gt;&lt;mrow&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt;
			     &lt;/span&gt;
		 	   &lt;/span&gt;
			 &lt;/span&gt;
		       &lt;/span&gt; 
		       is even&lt;/span&gt;&lt;/span&gt;, then
		   &lt;span property="stex:arg" resource="2"&gt;
		     &lt;span property="stex:OMA" resource="http://mathhub.info/smglom/arithmetics/natural_numbers?Divisibility?even"&gt;
		       &lt;span property="stex:arg" resource="1"&gt;
		         &lt;span property="stex:OMV" resource="http://mathhub.info/test?Lemmata?varN"&gt;
			   &lt;math id="S0.I1.i1.p1.m1" xmlns="http://www.w3.org/1998/Math/MathML" display="inline" alttext="N" class="ltx_Math"&gt;&lt;mrow&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;/mrow&gt;&lt;/math&gt;
			 &lt;/span&gt;
		       &lt;/span&gt; is even&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;.
		 &lt;span class="ltx_text ltx_align_floatright"&gt;
		   &lt;math id="Thmdefinition1.p1.m3" xmlns="http://www.w3.org/1998/Math/MathML" display="inline" alttext="{}_{\Box}" class="ltx_Math"&gt;&lt;msub&gt;&lt;mi/&gt;&lt;mi mathvariant="normal"&gt;□&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;
		 &lt;/span&gt;&lt;/p&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p class="myp">
Opening this file in the browser simply yields the following:</p>
<iframe src="/stex/demo/test.xhtml" height="150px" width="100%"></iframe>
<p class="myp">
corresponding to the resulting pdf (after running pdflatex).
</p>
<p class="myp">
However, The MMT system can parse this file, extract the semantic annotations in it, and serve it as an active document. This is already enabled in the
following <code>iframe</code>, which is served by the MMT system by parsing the exact HTML code above.</p>

<p class="myp">The annotations in the margin on the right indicate semantic information that is not contained explicitly in the text. First, a theory (a structural module) with name "Lemmata" is opened. Then a variable "varN" of type "ℕ" with symbolic presentation "N" is declared and noted to be universally quantified. The statement of the lemma is fully annotated (note that hovering over any part of the text shows the associated definition of the corresponding symbol, and additional semantic information available for that symbol). The latter allows constructing the syntax tree of the statement, which is shown at the bottom of the margin on the right. Clicking on the syntax tree opens a window with additional information and services particularly for that statement. In this case, the LaTeX code associated with the statement, which is useful to e.g. look up the specific macros for the concepts used, and translations to the MitM logic and the Sage system. The translation to MitM succeeds thanks to provided alignments, and opens a similar window for the translated statement (again, hovering over symbols shows associated semantic information). Translation to Sage fails, but gives information on which symbols in the original statement need alignments to translate the statement. 
</p>
</div>
<iframe src="/:fomid/document?http://mathhub.info/fomid/demo.xhtml" class="myiframe" id="myiframe" name="myiframe"></iframe>
</body>
</html>
